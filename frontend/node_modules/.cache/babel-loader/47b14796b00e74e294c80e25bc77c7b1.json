{"ast":null,"code":"import _slicedToArray from \"/Users/richardchea/development/code/covisualize/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/Users/richardchea/development/code/covisualize/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _defineProperty from \"/Users/richardchea/development/code/covisualize/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/richardchea/development/code/covisualize/src/Globe.js\";\nimport React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactGlobe from 'react-globe';\nimport Button from \"@material-ui/core/Button\";\nimport defaultMarkers from './Markers';\nimport Box from \"@material-ui/core/Box\";\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  var _buttonClear;\n\n  return {\n    buttonShow: {\n      position: \"absolute\",\n      fontSize: '18',\n      top: '0',\n      left: '0',\n      backgroundcolor: '#4CAF50',\n      border: 'none',\n      color: 'white',\n      padding: '15px 32px',\n      textalign: 'center',\n      textdecoration: 'none',\n      display: 'inline-block',\n      fontsize: '16px',\n      backgroundColor: '#4CAF50'\n    },\n    buttonClear: (_buttonClear = {\n      position: 'absolute',\n      fontSize: '18',\n      top: '0',\n      right: '0',\n      backgroundcolor: '#4CAF50',\n      border: 'none',\n      color: 'white',\n      padding: '15px 32px',\n      textAlign: 'center',\n      textDecoration: 'none',\n      display: 'inline-block'\n    }, _defineProperty(_buttonClear, \"fontSize\", '16px'), _defineProperty(_buttonClear, \"backgroundColor\", '#4CAF50'), _buttonClear),\n    tooltipStyle: {\n      background: '#edf0c0',\n      position: \"absolute\",\n      padding: '15px 32px',\n      fontSize: '52',\n      bottom: '0',\n      left: '0',\n      borderRadius: '25px'\n    }\n  };\n});\n\nfunction Globe() {\n  var classes = useStyles();\n  var allMarkers = defaultMarkers.map(function (marker) {\n    return _objectSpread({}, marker, {\n      color: 'red'\n    });\n  });\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      markers = _useState2[0],\n      setMarkers = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      event = _useState4[0],\n      setEvent = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      details = _useState6[0],\n      setDetails = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      stats = _useState8[0],\n      setStats = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      news = _useState10[0],\n      setNews = _useState10[1];\n\n  var getTooltipContent = function getTooltipContent(marker) {\n    return \"\".concat(marker.city);\n  };\n\n  var handleClickMarker = function handleClickMarker(marker, markerObject) {\n    // console.log('e:', e)\n    console.log('marker:', marker); // fetch(`https://gnews.io/api/v3/search?q=${marker.city}%20covid%20&token=6322e8aa091b352503c475e99bcbe7ed`)\n    //   .then(res => res.json())\n    //   .then(data => {\n    //     console.log(data)\n    //   })\n    // console.log('markerObject:', markerObject)\n    // console.log('onclick markers:', markers)\n    // console.log('onclick event:', event)\n    // console.log('onclick details:', details)\n    // setEvent({\n    //   type: 'CLICK',\n    //   marker,\n    // });\n    // setDetails(getTooltipContent(marker))\n  }; // useEffect(() => {\n  // fetch('https://api.covid19api.com/total/country/south-africa/status/confirmed?from=2020-07-16T00:00:00Z&to=2020-07-18T00:00:00Z')\n  //   .then(res => res.json())\n  //   .then(stats => {\n  // console.log('useEffect:')\n  // setStats(stats)\n  // })\n  // })\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"div1\",\n    style: {\n      position: 'relative',\n      width: '99vw',\n      height: '60vh',\n      border: '1px solid gray'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ReactGlobe, {\n    markers: markers,\n    markerOptions: {\n      getTooltipContent: getTooltipContent,\n      radiusScaleRange: [0.009, 0.009]\n    },\n    onClickMarker: function onClickMarker(e) {\n      return handleClickMarker(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: classes.buttonShow,\n    onClick: function onClick() {\n      return setMarkers(allMarkers);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, \"Show Cities\"), /*#__PURE__*/React.createElement(Button, {\n    className: classes.buttonClear,\n    disabled: markers.length === 0,\n    onClick: function onClick() {\n      return setMarkers([]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }, \"Clear Markers\"), details && /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.tooltipStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, details), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, \"Show Covid stats here from the api\"))) // <div>\n  //   <Box m={10} p={1}>\n  //     <Button\n  //       className={classes.buttonShow}\n  //       onClick={() => setMarkers(allMarkers)}\n  //     >\n  //       Show Cities\n  //     </Button>\n  // <Button\n  //   className={classes.buttonClear}\n  //   disabled={markers.length === 0}\n  //   onClick={() => setMarkers([])}\n  // >\n  //   Clear Cities\n  // </Button>\n  //   </Box>\n  // </div>\n  // </div>\n  ;\n}\n\nexport default Globe;","map":{"version":3,"sources":["/Users/richardchea/development/code/covisualize/src/Globe.js"],"names":["React","useState","useEffect","ReactDOM","ReactGlobe","Button","defaultMarkers","Box","makeStyles","useStyles","theme","buttonShow","position","fontSize","top","left","backgroundcolor","border","color","padding","textalign","textdecoration","display","fontsize","backgroundColor","buttonClear","right","textAlign","textDecoration","tooltipStyle","background","bottom","borderRadius","Globe","classes","allMarkers","map","marker","markers","setMarkers","event","setEvent","details","setDetails","stats","setStats","news","setNews","getTooltipContent","city","handleClickMarker","markerObject","console","log","width","height","radiusScaleRange","e","length"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,cAAP,MAA2B,WAA3B;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AAEA,IAAMC,SAAS,GAAGD,UAAU,CAAC,UAACE,KAAD;AAAA;;AAAA,SAAY;AACvCC,IAAAA,UAAU,EAAE;AACVC,MAAAA,QAAQ,EAAE,UADA;AAEVC,MAAAA,QAAQ,EAAE,IAFA;AAGVC,MAAAA,GAAG,EAAE,GAHK;AAIVC,MAAAA,IAAI,EAAE,GAJI;AAKVC,MAAAA,eAAe,EAAE,SALP;AAMVC,MAAAA,MAAM,EAAE,MANE;AAOVC,MAAAA,KAAK,EAAE,OAPG;AAQVC,MAAAA,OAAO,EAAE,WARC;AASVC,MAAAA,SAAS,EAAE,QATD;AAUVC,MAAAA,cAAc,EAAE,MAVN;AAWVC,MAAAA,OAAO,EAAE,cAXC;AAYVC,MAAAA,QAAQ,EAAE,MAZA;AAaVC,MAAAA,eAAe,EAAE;AAbP,KAD2B;AAiBvCC,IAAAA,WAAW;AACTb,MAAAA,QAAQ,EAAE,UADD;AAETC,MAAAA,QAAQ,EAAE,IAFD;AAGTC,MAAAA,GAAG,EAAE,GAHI;AAITY,MAAAA,KAAK,EAAE,GAJE;AAKTV,MAAAA,eAAe,EAAE,SALR;AAMTC,MAAAA,MAAM,EAAE,MANC;AAOTC,MAAAA,KAAK,EAAE,OAPE;AAQTC,MAAAA,OAAO,EAAE,WARA;AASTQ,MAAAA,SAAS,EAAE,QATF;AAUTC,MAAAA,cAAc,EAAE,MAVP;AAWTN,MAAAA,OAAO,EAAE;AAXA,iDAYC,MAZD,oDAaQ,SAbR,gBAjB4B;AAiCvCO,IAAAA,YAAY,EAAE;AACZC,MAAAA,UAAU,EAAE,SADA;AAEZlB,MAAAA,QAAQ,EAAE,UAFE;AAGZO,MAAAA,OAAO,EAAE,WAHG;AAIZN,MAAAA,QAAQ,EAAE,IAJE;AAKZkB,MAAAA,MAAM,EAAE,GALI;AAMZhB,MAAAA,IAAI,EAAE,GANM;AAOZiB,MAAAA,YAAY,EAAE;AAPF;AAjCyB,GAAZ;AAAA,CAAD,CAA5B;;AA6CA,SAASC,KAAT,GAAkB;AAChB,MAAMC,OAAO,GAAGzB,SAAS,EAAzB;AAEA,MAAM0B,UAAU,GAAG7B,cAAc,CAAC8B,GAAf,CAAmB,UAAAC,MAAM;AAAA,6BACvCA,MADuC;AAE1CnB,MAAAA,KAAK,EAAE;AAFmC;AAAA,GAAzB,CAAnB;;AAHgB,kBAOcjB,QAAQ,CAAC,EAAD,CAPtB;AAAA;AAAA,MAOTqC,OAPS;AAAA,MAOAC,UAPA;;AAAA,mBAQUtC,QAAQ,CAAC,IAAD,CARlB;AAAA;AAAA,MAQTuC,KARS;AAAA,MAQFC,QARE;;AAAA,mBAScxC,QAAQ,CAAC,IAAD,CATtB;AAAA;AAAA,MASTyC,OATS;AAAA,MASAC,UATA;;AAAA,mBAUU1C,QAAQ,CAAC,IAAD,CAVlB;AAAA;AAAA,MAUT2C,KAVS;AAAA,MAUFC,QAVE;;AAAA,mBAWQ5C,QAAQ,CAAC,IAAD,CAXhB;AAAA;AAAA,MAWT6C,IAXS;AAAA,MAWHC,OAXG;;AAahB,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACX,MAAD,EAAY;AACpC,qBAAUA,MAAM,CAACY,IAAjB;AACD,GAFD;;AAKA,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACb,MAAD,EAASc,YAAT,EAA0B;AAClD;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBhB,MAAvB,EAFkD,CAIlD;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAED,GApBD,CAlBgB,CAuChB;AACE;AACA;AACA;AACI;AACA;AACF;AACJ;;;AAGA,sBAEE;AACE,IAAA,EAAE,EAAC,MADL;AAEE,IAAA,KAAK,EACH;AACEzB,MAAAA,QAAQ,EAAC,UADX;AAEE0C,MAAAA,KAAK,EAAE,MAFT;AAGEC,MAAAA,MAAM,EAAE,MAHV;AAIEtC,MAAAA,MAAM,EAAE;AAJV,KAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAWE,oBAAC,UAAD;AACE,IAAA,OAAO,EAAEqB,OADX;AAEE,IAAA,aAAa,EAAE;AACbU,MAAAA,iBAAiB,EAAjBA,iBADa;AAEbQ,MAAAA,gBAAgB,EAAE,CAAC,KAAD,EAAQ,KAAR;AAFL,KAFjB;AAME,IAAA,aAAa,EAAE,uBAAAC,CAAC;AAAA,aAAEP,iBAAiB,CAACO,CAAD,CAAnB;AAAA,KANlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,eAmBE,oBAAC,MAAD;AACE,IAAA,SAAS,EAAEvB,OAAO,CAACvB,UADrB;AAEE,IAAA,OAAO,EAAE;AAAA,aAAM4B,UAAU,CAACJ,UAAD,CAAhB;AAAA,KAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAnBF,eAyBE,oBAAC,MAAD;AACE,IAAA,SAAS,EAAED,OAAO,CAACT,WADrB;AAEE,IAAA,QAAQ,EAAEa,OAAO,CAACoB,MAAR,KAAmB,CAF/B;AAGE,IAAA,OAAO,EAAE;AAAA,aAAMnB,UAAU,CAAC,EAAD,CAAhB;AAAA,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAzBF,EAgCGG,OAAO,iBACN;AAAK,IAAA,SAAS,EAAER,OAAO,CAACL,YAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIa,OAAJ,CAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAJF,CAjCJ,CAFF,CA4CI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACJ;AACA;AACF;AA7DF;AA+DD;;AAED,eAAeT,KAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactGlobe from 'react-globe';\nimport Button from \"@material-ui/core/Button\";\nimport defaultMarkers from './Markers';\nimport Box from \"@material-ui/core/Box\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  buttonShow: {\n    position: \"absolute\",\n    fontSize: '18',\n    top: '0',\n    left: '0',\n    backgroundcolor: '#4CAF50',\n    border: 'none',\n    color: 'white',\n    padding: '15px 32px',\n    textalign: 'center',\n    textdecoration: 'none',\n    display: 'inline-block',\n    fontsize: '16px',\n    backgroundColor: '#4CAF50'\n\n  },\n  buttonClear: {\n    position: 'absolute',\n    fontSize: '18',\n    top: '0',\n    right: '0',\n    backgroundcolor: '#4CAF50',\n    border: 'none',\n    color: 'white',\n    padding: '15px 32px',\n    textAlign: 'center',\n    textDecoration: 'none',\n    display: 'inline-block',\n    fontSize: '16px',\n    backgroundColor: '#4CAF50'\n\n  },\n  tooltipStyle: {\n    background: '#edf0c0',\n    position: \"absolute\",\n    padding: '15px 32px',\n    fontSize: '52',\n    bottom: '0',\n    left: '0',\n    borderRadius: '25px'\n\n  }\n}))\n\nfunction Globe () {\n  const classes = useStyles()\n\n  const allMarkers = defaultMarkers.map(marker => ({\n    ...marker,\n    color: 'red'\n  }));\n  const [markers, setMarkers] = useState([]);\n  const [event, setEvent] = useState(null);\n  const [details, setDetails] = useState(null);\n  const [stats, setStats] = useState(null);\n  const [news, setNews] = useState(null)\n\n  const getTooltipContent = (marker) => {\n    return `${marker.city}`;\n  }\n  \n\n  const handleClickMarker = (marker, markerObject) => {\n    // console.log('e:', e)\n    console.log('marker:', marker)\n      \n    // fetch(`https://gnews.io/api/v3/search?q=${marker.city}%20covid%20&token=6322e8aa091b352503c475e99bcbe7ed`)\n    //   .then(res => res.json())\n    //   .then(data => {\n    //     console.log(data)\n    //   })\n\n    // console.log('markerObject:', markerObject)\n    // console.log('onclick markers:', markers)\n    // console.log('onclick event:', event)\n    // console.log('onclick details:', details)\n    // setEvent({\n    //   type: 'CLICK',\n    //   marker,\n    // });\n    // setDetails(getTooltipContent(marker))\n    \n  }\n  // useEffect(() => {\n    // fetch('https://api.covid19api.com/total/country/south-africa/status/confirmed?from=2020-07-16T00:00:00Z&to=2020-07-18T00:00:00Z')\n    //   .then(res => res.json())\n    //   .then(stats => {\n        // console.log('useEffect:')\n        // setStats(stats)\n      // })\n  // })\n\n\n  return (\n\n    <div\n      id='div1'\n      style={\n        {\n          position:'relative',\n          width: '99vw',\n          height: '60vh',\n          border: '1px solid gray'\n        }\n      }\n    >\n      <ReactGlobe\n        markers={markers}\n        markerOptions={{\n          getTooltipContent,\n          radiusScaleRange: [0.009, 0.009],\n        }}\n        onClickMarker={e=>handleClickMarker(e)}\n      />\n      <Button\n        className={classes.buttonShow}\n        onClick={() => setMarkers(allMarkers)}\n      >\n        Show Cities\n      </Button>\n      <Button\n        className={classes.buttonClear}\n        disabled={markers.length === 0}\n        onClick={() => setMarkers([])}\n      >\n        Clear Markers\n      </Button>\n      {details && (\n        <div className={classes.tooltipStyle}\n          \n        >\n          <p>{details}</p>\n          <p>Show Covid stats here from the api</p>\n        </div>\n      )}\n    </div>\n\n      // <div>\n      //   <Box m={10} p={1}>\n      //     <Button\n      //       className={classes.buttonShow}\n      //       onClick={() => setMarkers(allMarkers)}\n      //     >\n      //       Show Cities\n      //     </Button>\n          // <Button\n          //   className={classes.buttonClear}\n          //   disabled={markers.length === 0}\n          //   onClick={() => setMarkers([])}\n          // >\n          //   Clear Cities\n          // </Button>\n      //   </Box>\n      // </div>\n    // </div>\n  );\n}\n\nexport default Globe"]},"metadata":{},"sourceType":"module"}