{"ast":null,"code":"import _slicedToArray from \"/Users/richardchea/development/code/covisualize/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/Users/richardchea/development/code/covisualize/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/richardchea/development/code/covisualize/src/Globe.js\";\nimport React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactGlobe from 'react-globe';\nimport Button from \"@material-ui/core/Button\";\nimport defaultMarkers from './Markers';\nimport Box from \"@material-ui/core/Box\";\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    button: {\n      position: \"absolute\",\n      fontSize: '18',\n      top: '0',\n      left: '0',\n      backgroundcolor: '#4CAF50',\n      border: 'none',\n      color: 'white',\n      padding: '15px 32px',\n      textalign: 'center',\n      textdecoration: 'none',\n      display: 'inline-block',\n      fontsize: '16px'\n    }\n  };\n});\n\nfunction Globe() {\n  var classes = useStyles();\n  var allMarkers = defaultMarkers.map(function (marker) {\n    return _objectSpread({}, marker, {\n      color: 'red'\n    });\n  });\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      markers = _useState2[0],\n      setMarkers = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      event = _useState4[0],\n      setEvent = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      details = _useState6[0],\n      setDetails = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      stats = _useState8[0],\n      setStats = _useState8[1];\n\n  console.log('markers:', markers);\n  console.log('event:', event);\n  console.log('details:', details); // console.log('stat:', stats)\n\n  var getTooltipContent = function getTooltipContent(marker) {\n    return \"\".concat(marker.city);\n  };\n\n  var handleClickMarker = function handleClickMarker(marker, markerObject, e) {\n    // console.log('e:', e)\n    console.log('marker:', marker); // console.log('markerObject:', markerObject)\n    // console.log('onclick markers:', markers)\n    // console.log('onclick event:', event)\n    // console.log('onclick details:', details)\n  }; // useEffect(() => {\n  // fetch('https://api.covid19api.com/total/country/south-africa/status/confirmed?from=2020-07-16T00:00:00Z&to=2020-07-18T00:00:00Z')\n  //   .then(res => res.json())\n  //   .then(stats => {\n  // console.log('useEffect:')\n  // setStats(stats)\n  // })\n  // })\n  // const onClickMarker = (e) => {\n  //   console.log('e:',e)\n  //   setEvent({\n  //     type: 'CLICK',\n  //     marker,\n  //     markerObjectID: markerObject.uuid,\n  //     pointerEventPosition: { x: event.clientX, y: event.clientY },\n  //   });\n  //   setDetails(getTooltipContent(marker));\n  // }\n  // const onDefocusNow = (previousCoordinates, event) => {\n  // console.log('defocus e:', event)\n  // console.log('defocus pc:', previousCoordinates)\n  // setEvent({\n  //   type: 'DEFOCUS',\n  //   previousCoordinates,\n  //   pointerEventPosition: { x: event.clientX, y: event.clientY },\n  // });\n  // setDetails(null);\n  // }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100vw\",\n      height: \"60vh\",\n      position: 'absolute',\n      top: '0',\n      right: '0',\n      bottom: '0',\n      left: '0',\n      border: '1px solid gray',\n      backgroundColor: '#4CAF50'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ReactGlobe, {\n    markers: markers,\n    markerOptions: {\n      getTooltipContent: getTooltipContent,\n      radiusScaleRange: [0.009, 0.009]\n    },\n    onClickMarker: function onClickMarker(e) {\n      return handleClickMarker(e);\n    } // onDefocus={onDefocusNow}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }), details && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      background: \"white\",\n      position: \"absolute\",\n      fontSize: 18,\n      top: 0,\n      left: 0,\n      padding: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, details), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, \"Show Covid stats here from the api\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    m: 10,\n    p: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: classes.button,\n    onClick: function onClick() {\n      return setMarkers(allMarkers);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, \"Show markers\"), /*#__PURE__*/React.createElement(Button // className={classes.button}\n  , {\n    disabled: markers.length === 0,\n    onClick: function onClick() {\n      return setMarkers([]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, \"Clear markers\"))));\n}\n\nexport default Globe;","map":{"version":3,"sources":["/Users/richardchea/development/code/covisualize/src/Globe.js"],"names":["React","useState","useEffect","ReactDOM","ReactGlobe","Button","defaultMarkers","Box","makeStyles","useStyles","theme","button","position","fontSize","top","left","backgroundcolor","border","color","padding","textalign","textdecoration","display","fontsize","Globe","classes","allMarkers","map","marker","markers","setMarkers","event","setEvent","details","setDetails","stats","setStats","console","log","getTooltipContent","city","handleClickMarker","markerObject","e","width","height","right","bottom","backgroundColor","radiusScaleRange","background","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactGlobe from 'react-globe';\nimport Button from \"@material-ui/core/Button\";\nimport defaultMarkers from './Markers';\nimport Box from \"@material-ui/core/Box\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    position: \"absolute\",\n    fontSize: '18',\n    top: '0',\n    left: '0',\n    backgroundcolor: '#4CAF50',\n    border: 'none',\n    color: 'white',\n    padding: '15px 32px',\n    textalign: 'center',\n    textdecoration: 'none',\n    display: 'inline-block',\n    fontsize: '16px'\n\n  }\n}))\n\nfunction Globe () {\n  const classes = useStyles()\n\n  const allMarkers = defaultMarkers.map(marker => ({\n    ...marker,\n    color: 'red'\n  }));\n  const [markers, setMarkers] = useState([]);\n  const [event, setEvent] = useState(null);\n  const [details, setDetails] = useState(null);\n  const [stats, setStats] = useState(null);\n\n  console.log('markers:', markers)\n  console.log('event:', event)\n  console.log('details:', details)\n  // console.log('stat:', stats)\n\n\n  const getTooltipContent = (marker) => {\n    return `${marker.city}`;\n  }\n  \n  const handleClickMarker = (marker, markerObject, e) => {\n    // console.log('e:', e)\n    console.log('marker:', marker)\n    // console.log('markerObject:', markerObject)\n    // console.log('onclick markers:', markers)\n    // console.log('onclick event:', event)\n    // console.log('onclick details:', details)\n  }\n  // useEffect(() => {\n    // fetch('https://api.covid19api.com/total/country/south-africa/status/confirmed?from=2020-07-16T00:00:00Z&to=2020-07-18T00:00:00Z')\n    //   .then(res => res.json())\n    //   .then(stats => {\n        // console.log('useEffect:')\n        // setStats(stats)\n      // })\n  // })\n\n  // const onClickMarker = (e) => {\n  //   console.log('e:',e)\n  //   setEvent({\n  //     type: 'CLICK',\n  //     marker,\n  //     markerObjectID: markerObject.uuid,\n  //     pointerEventPosition: { x: event.clientX, y: event.clientY },\n  //   });\n  //   setDetails(getTooltipContent(marker));\n  // }\n\n  // const onDefocusNow = (previousCoordinates, event) => {\n    // console.log('defocus e:', event)\n    // console.log('defocus pc:', previousCoordinates)\n    // setEvent({\n    //   type: 'DEFOCUS',\n    //   previousCoordinates,\n    //   pointerEventPosition: { x: event.clientX, y: event.clientY },\n    // });\n    // setDetails(null);\n  // }\n\n  return (\n    < div \n    style = {\n      {\n        width: \"100vw\",\n        height: \"60vh\",\n        position: 'absolute',\n        top: '0',\n        right: '0',\n        bottom: '0',\n        left: '0',\n        border: '1px solid gray',\n        backgroundColor: '#4CAF50'\n      }\n    } >\n      <ReactGlobe\n        markers={markers}\n        markerOptions={{\n          getTooltipContent,\n          radiusScaleRange: [0.009, 0.009],\n        }}\n        onClickMarker={(e) => handleClickMarker(e)}\n        // onDefocus={onDefocusNow}\n      />\n      {details && (\n        <div\n          style={{\n            background: \"white\",\n            position: \"absolute\",\n            fontSize: 18,\n            top: 0,\n            left: 0,\n            padding: 12,\n          }}\n        >\n          <p>{details}</p>\n          <p>Show Covid stats here from the api</p>\n        </div>\n      )}\n      <div>\n        <Box m={10} p={1}>\n          <Button\n            className={classes.button}\n            onClick={() => setMarkers(allMarkers)}\n          >\n            Show markers\n          </Button>\n          <Button\n            // className={classes.button}\n            disabled={markers.length === 0}\n            onClick={() => setMarkers([])}\n          >\n            Clear markers\n          </Button>\n        </Box>\n      </div>\n    </div>\n  );\n}\n\nexport default Globe"]},"metadata":{},"sourceType":"module"}